{% extends "Sparkle2/userarea.html.twig" %}

{% block content %}
<div class="card">
	<div class="card-header">
		<ul class="nav nav-tabs card-header-tabs" id="subnav-tab"
			role="tablist">
			<li class="nav-item"><a class="nav-link active"
				id="subnav-log-tab" data-toggle="tab" href="#tab-log" role="tab"
				aria-controls="subnav-log" aria-selected="true">{{ lng('menue.logger.logger') }}&nbsp;<span
					class="badge badge-pill badge-secondary">{{ all_entries }}</span></a></li>
			<li class="nav-item"><a class="nav-link"
				href="index.php?module=AdminLogger&view=truncate"><span
					class="text-danger"><i class="fas fa-trash-alt"></i> {{ lng('logger.truncate') }}</span></a></li>
		</ul>
	</div>
	<div class="card-body tab-content" id="subnav-tabContent">
		<div class="tab-pane fade show active" id="tab-log" role="tabpanel"
			aria-labelledby="subnav-log-tab">
			<div class="card">
				<div class="card-body" id="cronjobs-list">
					{% import "Sparkle2/table-listing.html.twig" as t %}
					{% set content %}
					{% for entry in logentries %}
					<tr class="d-flex">
						<td class="col-sm-2">{{ entry.date|date('d.m.Y H:i') }}</td>
						<td class="col-sm-2">{{ entry.type }}</td>
						<td class="col-sm-2"><strong>{{ entry.user }}</strong></td>
						<td class="col-sm-6">{{ entry.text|raw }}</td>
					</tr>
					{% endfor %}
					{% endset %}
					{% if logentries|length > 0 %}
					{{ t.listing("cronjobs-listing", [lng('logger.date'), lng('logger.type'), lng('logger.user'), lng('logger.action')], content, [2,2,2,6], false, true, page, all_entries, 'index.php?module=AdminLogger') }}
					{% else %}
					<div class="alert alert-info" role="alert">
						{% trans "Keine Log-Eintr√§ge" %}
					</div>
					{% endif %}
				</div>
			</div>
		</div>

	</div>
</div>
{% endblock %}
